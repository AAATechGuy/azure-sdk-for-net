# This Yaml Document has been converted by ESAI Yaml Pipeline Conversion Tool.
# Please make sure to check all the converted content, it is your team's responsibility to make sure that the pipeline is still valid and functions as expected.
parameters:
  ServiceDirectory: ''
  AOTTestInputs: []
steps:
- ${{ each aotTestInput in parameters.AOTTestInputs }}:
  - task: Powershell@2
    displayName: Check for AOT compatibility regressions in ${{ aotTestInput.ArtifactName }}
    inputs:
      targetType: filepath
      filePath: $(Build.SourcesDirectory)/eng/scripts/compatibility/Check-AOT-Compatibility.ps1
      arguments: >-
        -ServiceDirectory ${{ parameters.ServiceDirectory }} -PackageName ${{ aotTestInput.ArtifactName }} -ExpectedWarningsFilePath ${{ aotTestInput.ExpectedWarningsFilePath }}
      workingDirectory: $(Build.SourcesDirectory)/eng/scripts/compatibility