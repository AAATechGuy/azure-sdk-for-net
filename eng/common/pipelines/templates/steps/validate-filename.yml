# This Yaml Document has been converted by ESAI Yaml Pipeline Conversion Tool.
# Please make sure to check all the converted content, it is your team's responsibility to make sure that the pipeline is still valid and functions as expected.
parameters:
  WorkingDirectory: '$(System.DefaultWorkingDirectory)'
steps:
- pwsh: |
    $differByCaseFiles = git ls-files | Group-Object | Where-Object { $_.Count -gt 1 } 
    if ($differByCaseFiles) 
    {
      foreach ($fileGroup in $differByCaseFiles) {
        Write-Host "Duplicated Files: "
        Write-Host "[ $($fileGroup.Group) ]"
      }
      Write-Host "Do NOT name the files which only differ in case. Please check above files."
      exit 1
    }
    Write-Host "There are no file names that only differ in case."
  displayName: Check file case duplicates
  workingDirectory: ${{ parameters.WorkingDirectory }}